// هذا الملف مخصص لأسئلة الفصل الرابع.
// عند إضافة الأسئلة هنا، تأكد من تصديرها كمصفوفة وتضمين خاصية chapter: 4 لكل سؤال.

const chapter4Questions = [
    // أسئلة اختيار من متعدد
    {
        chapter: 4,
        question: "في الجيل الأول من تطور أنظمة التشغيل (فترة الأربعينيات والخمسينيات المبكرة)، كيف كانت تتم برمجة المهام الأساسية للجهاز؟",
        answers: [
            "باستخدام لغات برمجة عالية المستوى",
            "عن طريق لوحات التوصيل (Plugboards)",
            "باستخدام أنظمة تشغيل متقدمة",
            "عن طريق واجهات المستخدم الرسومية (GUI)"
        ],
        correctAnswer: 1,
        explanation: "في الجيل الأول، كانت برمجة المهام الأساسية تتم مباشرة على الأجهزة باستخدام لوحات التوصيل (Plugboards)."
    },
    {
        chapter: 4,
        question: "ما هو المفهوم الرئيسي الذي يميز أنظمة التشغيل في الجيل الثاني (فترة 1955-1965)؟",
        answers: [
            "مشاركة الوقت (Time-sharing)",
            "معالجة الدفعات (Batch processing)",
            "الحوسبة الموزعة (Distributed computing)",
            "واجهات المستخدم الرسومية (GUI)"
        ],
        correctAnswer: 1,
        explanation: "تم تقديم أول نظام تشغيل دفعة في الجيل الثاني، حيث كانت المهام تُجمع وتُرسل كدفعات ليتم معالجتها على التوالي دون تفاعل مباشر من المستخدم."
    },
    {
        chapter: 4,
        question: "أي جيل من أجيال تطور أنظمة التشغيل شهد ظهور مفهوم البرمجة المتعددة (Multiprogramming) ومشاركة الوقت (Time-sharing)؟",
        answers: [
            "الجيل الأول",
            "الجيل الثاني",
            "الجيل الثالث",
            "الجيل الرابع"
        ],
        correctAnswer: 2,
        explanation: "خلال الجيل الثالث، تم تطوير أنظمة التشغيل لتشمل البرمجة المتعددة ومشاركة الوقت، مما سمح بتنفيذ عدة مهام في نفس الوقت والاستفادة القصوى من وحدة المعالجة المركزية."
    },
    {
        chapter: 4,
        question: "ما هي التكنولوجيا المركزية التي أدت إلى ظهور أجهزة الحاسوب الشخصية في الجيل الرابع (1980-الحاضر)؟",
        answers: [
            "الترانزستور",
            "الدوائر المتكاملة",
            "المعالجات الدقيقة (Microprocessor chip)",
            "الحوسبة السحابية"
        ],
        correctAnswer: 2,
        explanation: "ظهور شريحة المعالج الدقيق Microprocessor chip جعل تكلفة الحاسوب الشخصي في متناول الأفراد، مما أدى إلى انتشار واسع لهذه الأجهزة في الجيل الرابع."
    },
    {
        chapter: 4,
        question: "نظام التشغيل MS-DOS يُعتبر مثالاً على أي نوع من أنظمة التشغيل من حيث المهام والمستخدمين؟",
        answers: [
            "متعدد المستخدمين، متعدد المهام",
            "مستخدم واحد، متعدد المهام",
            "متعدد المستخدمين، مهمة واحدة",
            "مستخدم واحد، مهمة واحدة"
        ],
        correctAnswer: 3,
        explanation: "يصنف نظام التشغيل MS-DOS ضمن أنظمة التشغيل ذات المستخدم الواحد والمهمة الواحدة."
    },
    {
        chapter: 4,
        question: "ما هو الهدف الرئيسي من أنظمة التشغيل مشاركة الوقت (Time-sharing)؟",
        answers: [
            "تنفيذ المهام بالتتابع دون تفاعل المستخدم",
            "ضمان استجابة فورية للمهام الحرجة",
            "السماح لعدد كبير من المستخدمين باستخدام نفس الحاسوب في نفس الوقت",
            "إدارة الأجهزة المادية فقط"
        ],
        correctAnswer: 2,
        explanation: "تهدف أنظمة مشاركة الوقت إلى تمكين عدد من الأشخاص من استخدام نظام حاسوب واحد في نفس الوقت، حيث يتم توزيع وقت المعالج بين المستخدمين."
    },
    {
        chapter: 4,
        question: "ما هي السمة الأساسية لنظام التشغيل الشبكي (Network Operating System - NOS)؟",
        answers: [
            "تتطلب خوادم مركزية عالية الاستقرار",
            "توزيع المهام على عدة معالجات في أنظمة مختلفة",
            "ضمان استجابة سريعة للمهام الحرجة في بيئة صناعية",
            "العمل في بيئة دفعات بدون تفاعل مباشر"
        ],
        correctAnswer: 0,
        explanation: "تعمل أنظمة التشغيل الشبكية على خادم (Server) وتوفر القدرة على إدارة المستخدمين والبيانات والموارد المشتركة في شبكة محلية، وتتسم بخوادم مركزية عالية الاستقرار."
    },
    {
        chapter: 4,
        question: "ما الذي يميز نظام التشغيل الموزع (Distributed operating system) عن نظام التشغيل الشبكي (NOS)؟",
        answers: [
            "التركيز على إدارة الموارد المشتركة في شبكة محلية",
            "ظهور النظام كحاسوب فردي للمستخدم بالرغم من توزيعه على عدة معالجات",
            "ضمان استجابة فورية في التطبيقات الصناعية",
            "العمل بنظام الدفعات"
        ],
        correctAnswer: 1,
        explanation: "يظهر نظام التشغيل الموزع للمستخدم كنظام تقليدي أحادي المعالج، على الرغم من أنه يتكون فعلياً ويتعامل مع معالجات متعددة موزعة."
    },
    {
        chapter: 4,
        question: "ما هو الهدف الرئيسي لأنظمة التشغيل المضمنة (Embedded systems)؟",
        answers: [
            "تشغيل الخوادم الكبيرة",
            "التحكم في أجهزة الحاسوب الشخصية",
            "التشغيل بمرونة عالية والارتجال في الأداء",
            "تصميمها لغرض خاص ومحدد"
        ],
        correctAnswer: 3,
        explanation: "أنظمة التشغيل المضمنة هي أنظمة مصممة خصيصاً لغرض خاص ومحدد، وتكون مدمجة داخل مكونات مادية أخرى."
    },
    {
        chapter: 4,
        question: "أي نوع من أنظمة التشغيل يتطلب استجابة سريعة جداً ودقيقة، وغالباً ما يستخدم في التحكم الصناعي والتطبيقات الطبية؟",
        answers: [
            "أنظمة مشاركة الوقت",
            "أنظمة معالجة الدفعات",
            "أنظمة التشغيل الشبكية",
            "أنظمة الوقت الحقيقي (Real-Time)"
        ],
        correctAnswer: 3,
        explanation: "تُستخدم أنظمة الوقت الحقيقي في التطبيقات التي تتطلب معالجة البيانات والاستجابة للمدخلات في فواصل زمنية محددة بدقة، مثل الأنظمة الصناعية والطبية."
    },
    {
        chapter: 4,
        question: "ما هي أبرز سلبية لأنظمة الوقت الحقيقي الصلبة (Hard Real-Time Systems)؟",
        answers: [
            "بطء الاستجابة",
            "لا يمكن أن تتأخر عن الموعد النهائي للمهمة على الإطلاق",
            "تتطلب مساحة تخزين كبيرة",
            "صعوبة التفاعل مع المستخدم"
        ],
        correctAnswer: 1,
        explanation: "أنظمة الوقت الحقيقي الصلبة تتطلب استجابة صارمة وفي حدود زمنية محددة، حيث أن أي تأخير، ولو كان قصيراً جداً، يمكن أن يعتبر فشلاً في النظام."
    },
    {
        chapter: 4,
        question: "أنظمة التشغيل التي تسمح بتشغيل أكثر من مهمة واحدة لمستخدم واحد في نفس الوقت تسمى:",
        answers: [
            "مستخدم واحد، مهمة واحدة",
            "متعدد المستخدمين، مهمة واحدة",
            "مستخدم واحد، متعدد المهام",
            "متعدد المستخدمين، متعدد المهام"
        ],
        correctAnswer: 2,
        explanation: "هذا النوع من الأنظمة يسمح لمستخدم واحد بتشغيل عدة برامج وتطبيقات في آن واحد، مثل أنظمة Windows الحديثة و macOS."
    },
    {
        chapter: 4,
        question: "ما هو العيب الرئيسي لأنظمة معالجة الدفعات (Batch processing systems) من وجهة نظر المستخدم؟",
        answers: [
            "التفاعل المباشر مستمر",
            "لا يمكن للمستخدم التفاعل مباشرة مع النظام أثناء التنفيذ",
            "سهولة تصحيح الأخطاء (Debugging)",
            "توفير وسائل المساعدة في اكتشاف الأخطاء"
        ],
        correctAnswer: 1,
        explanation: "من سلبيات أنظمة معالجة الدفعات عدم التفاعل بين المستخدم والنظام، حيث تُرسل المهام كدفعات ويتم تنفيذها دون تدخل مباشر."
    },
    {
        chapter: 4,
        question: "أي نوع من أنظمة التشغيل يظهر للمستخدم كنظام حاسوب تقليدي أحادي المعالج ولكنه في الواقع يعمل على عدة معالجات موزعة؟",
        answers: [
            "نظام مشاركة الوقت",
            "نظام الدفعات",
            "نظام التشغيل الموزع",
            "نظام التشغيل الشبكي"
        ],
        correctAnswer: 2,
        explanation: "يتميز نظام التشغيل الموزع بأنه يظهر للمستخدم كنظام واحد، بينما هو مكون من عدة أنظمة تعمل معاً لتنفيذ المهام على معالجات مختلفة."
    },
    {
        chapter: 4,
        question: "وفقاً للمصدر، أي من أنظمة التشغيل التالية يُعد مثالاً على نظام تشغيل متعدد المستخدمين ومتعدد المهام؟",
        answers: [
            "MS-DOS",
            "Palm OS",
            "Windows NT",
            "أنظمة الوقت الحقيقي الصلبة"
        ],
        correctAnswer: 2,
        explanation: "يصنف Windows NT ضمن أنظمة التشغيل المتعددة المستخدمين والمتعددة المهام وفقاً للمصدر."
    },

    // أسئلة صح أو خطأ
    {
        chapter: 4,
        question: "في الجيل الأول من تطور أنظمة التشغيل، كان التركيز بشكل أساسي على حل العمليات الحسابية البسيطة.",
        answers: ["صح", "خطأ"],
        correctAnswer: 0,
        explanation: "خلال الجيل الأول (1940s-early 1950s)، تم استخدام أجهزة الحاسوب بشكل عام لحل العمليات الحسابية البسيطة، ولم تكن هناك حاجة لأنظمة تشغيل بالضرورة."
    },
    {
        chapter: 4,
        question: "أحد العيوب الرئيسية لأنظمة معالجة الدفعات هو سهولة توفير وسائل المساعدة في اكتشاف الأخطاء.",
        answers: ["صح", "خطأ"],
        correctAnswer: 1,
        explanation: "من سلبيات أنظمة معالجة الدفعات أنه من الصعب توفير وسائل المساعدة المطلوبة أثناء التنفيذ."
    },
    {
        chapter: 4,
        question: "نظام التشغيل Linux يُصنف كمثال على نظام تشغيل مستخدم واحد ومهمة واحدة وفقاً للتصنيف في المصدر.",
        answers: ["صح", "خطأ"],
        correctAnswer: 1,
        explanation: "نظام Linux يصنف ضمن أنظمة التشغيل متعددة المستخدمين ومتعددة المهام وفقاً للمصدر."
    },
    {
        chapter: 4,
        question: "تُستخدم أنظمة الوقت الحقيقي المرنة (Soft Real-Time Systems) في التطبيقات التي لا يتطلب فيها وقت الاستجابة أن يكون صارماً تماماً.",
        answers: ["صح", "خطأ"],
        correctAnswer: 0,
        explanation: "أنظمة الوقت الحقيقي المرنة تُستخدم في التطبيقات التي يمكن فيها قبول بعض التأخير، على عكس الأنظمة الصلبة التي تتطلب استجابة صارمة."
    },
    {
        chapter: 4,
        question: "البرمجة المتعددة (Multiprogramming) ومشاركة الوقت (Time-sharing) هما مفهومان متطابقان ولا يوجد فرق بينهما.",
        answers: ["صح", "خطأ"],
        correctAnswer: 1,
        explanation: "على الرغم من أن البرمجة المتعددة ومشاركة الوقت امتداد منطقي لبعضهما البعض، إلا أنهما يختلفان في أهدافهما الرئيسية، حيث تهدف مشاركة الوقت إلى تقليل وقت الاستجابة بينما تهدف البرمجة المتعددة إلى زيادة استخدام المعالج."
    },
    {
        chapter: 4,
        question: "أنظمة التشغيل الشبكية (NOS) تتطلب غالباً اتصالاً محكماً (tightly coupled) بين الأجهزة.",
        answers: ["صح", "خطأ"],
        correctAnswer: 1,
        explanation: "يصف المصدر أنظمة NOS بأنها تشبه الأنظمة الموزعة، ولكنها تختلف في طريقة وصولها إلى الموارد. ويذكر المصدر عبارة 'tightly coupled systems' لوصف أنظمة أخرى."
    },
    {
        chapter: 4,
        question: "واجهة المستخدم الرسومية (GUI) ظهرت وانتشرت بشكل كبير في الجيل الثالث من أنظمة التشغيل.",
        answers: ["صح", "خطأ"],
        correctAnswer: 1,
        explanation: "بينما بدأت المحاولات المبكرة لواجهات المستخدم الرسومية في السبعينيات، كان انتشارها الواسع وتعميم مفهومها مرتبطاً بشكل أساسي بظهور أجهزة الحاسوب الشخصية في الجيل الرابع."
    },
    {
        chapter: 4,
        question: "من مزايا أنظمة التشغيل المضمنة أنها تتطلب جهداً كبيراً في التحديث والتطوير.",
        answers: ["صح", "خطأ"],
        correctAnswer: 1,
        explanation: "هذه العبارة تصف إحدى سلبيات أنظمة التشغيل المضمنة، وليست ميزة."
    },
    {
        chapter: 4,
        question: "نظام التشغيل iOS المستخدم في أجهزة Apple المحمولة يستخدم نواة هجينة (Hybrid Kernel).",
        answers: ["صح", "خطأ"],
        correctAnswer: 0,
        explanation: "يذكر المصدر أن Apple's iOS for mobiles uses hybrid (XNU)."
    },
    {
        chapter: 4,
        question: "في أنظمة التشغيل متعددة المستخدمين، يمكن لعدة مستخدمين تسجيل الدخول إلى نفس الحاسوب واستخدامه في نفس الوقت.",
        answers: ["صح", "خطأ"],
        correctAnswer: 0,
        explanation: "أحد تصنيفات أنظمة التشغيل هو 'متعدد المستخدمين' Multi-users، والذي يعني أن النظام يخدم أكثر من مستخدم واحد في نفس الوقت."
    },
    {
        chapter: 4,
        question: "أنظمة التشغيل الموزعة تتطلب غالباً خوارزميات جدولة معالج أكثر تعقيداً لتحسين مقدار التوازي.",
        answers: ["صح", "خطأ"],
        correctAnswer: 0,
        explanation: "نظراً لتشغيل التطبيقات على عدة معالجات في نفس الوقت، يتطلب نظام التشغيل الموزع خوارزميات جدولة معالج أكثر تعقيداً لتحسين مقدار التوازي."
    },
    {
        chapter: 4,
        question: "أول نظام تشغيل بمفهوم الدفعات (Batch processing) تم تقديمه من قبل شركة IBM.",
        answers: ["صح", "خطأ"],
        correctAnswer: 0,
        explanation: "يذكر المصدر أن أول نظام تشغيل بمفهوم الدفعات، الذي أطلق عليه اسم GMOS، تم تقديمه من قبل شركة General Motors لتشغيل جهاز IBM 701 في الجيل الثاني."
    },
    {
        chapter: 4,
        question: "أنظمة التشغيل مشاركة الوقت تهدف إلى تقليل وقت استخدام المعالج (Minimize processor time).",
        answers: ["صح", "خطأ"],
        correctAnswer: 1,
        explanation: "تهدف أنظمة مشاركة الوقت إلى تقليل وقت الاستجابة (Minimize response time)، بينما تهدف البرمجة المتعددة إلى زيادة استخدام المعالج."
    },
    {
        chapter: 4,
        question: "نظام التشغيل Android يستخدم نواة Linux معدلة.",
        answers: ["صح", "خطأ"],
        correctAnswer: 0,
        explanation: "يذكر المصدر أن Android يستخدم نسخة معدلة من نواة Linux."
    },
    {
        chapter: 4,
        question: "أنظمة التشغيل المضمنة (Embedded systems) عادة ما تستخدم نفس أنظمة التشغيل القياسية المستخدمة على أجهزة الحاسوب المكتبية.",
        answers: ["صح", "خطأ"],
        correctAnswer: 1,
        explanation: "أنظمة التشغيل المضمنة تُصمم خصيصاً لغرض محدد وتعتمد على المعالجات الدقيقة والتعليمات المبرمجة فيها، وليست بالضرورة تستخدم نفس الأنظمة القياسية."
    }
];

// إضافة خاصية الفصل لكل سؤال
chapter4Questions.forEach(q => {
    if (!q.chapter) {
        q.chapter = 4;
    }
});

// التأكد من وجود مصفوفة الأسئلة العامة
if (typeof window.questions === 'undefined') {
    window.questions = [];
}

// دمج أسئلة الفصل الرابع مع المصفوفة العامة
window.questions = window.questions.concat(chapter4Questions);

// تأكيد إضافة الأسئلة
console.log('تم إضافة أسئلة الفصل الرابع بنجاح');
console.log('عدد أسئلة الفصل الرابع:', chapter4Questions.length);
console.log('إجمالي عدد الأسئلة:', window.questions.length);

// التحقق من صحة إضافة الأسئلة
const chapter4QuestionsCount = window.questions.filter(q => Number(q.chapter) === 4).length;
console.log('عدد أسئلة الفصل الرابع في المصفوفة العامة:', chapter4QuestionsCount);
