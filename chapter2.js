// تعريف أسئلة الفصل الثاني
const chapter2Questions = [
    // أسئلة اختيار من متعدد
    {
        chapter: 2,
        question: "ما هي إحدى الوظائف الأساسية لنظام التشغيل المتعلقة بإدارة الذاكرة؟",
        answers: [
            "التحكم في الأجهزة الطرفية",
            "جدولة العمليات لتخصيص وقت المعالج",
            "تتبع الأجزاء المستخدمة وغير المستخدمة من الذاكرة",
            "إدارة الملفات والمجلدات على وسائط التخزين"
        ],
        correctAnswer: 2,
        explanation: "إدارة الذاكرة في نظام التشغيل تتضمن تتبع استخدام الذاكرة وتخصيصها وإلغاء تخصيصها للعمليات."
    },
    {
        chapter: 2,
        question: "في سياق إدارة المعالج، ما هو المصطلح الذي يطلق على الوحدة الأساسية للتنفيذ في نظام التشغيل؟",
        answers: [
            "النواة (Kernel)",
            "برنامج التشغيل (Driver)",
            "العملية (Process)",
            "واجهة المستخدم (User Interface)"
        ],
        correctAnswer: 2,
        explanation: "تُعرف العملية (Process) بأنها الوحدة الأساسية للتنفيذ في نظام التشغيل وتُستخدم في جدولة العمليات."
    },
    {
        chapter: 2,
        question: "وفقاً للمصادر، ما هو أحد المكونات التي يتضمنها كتلة التحكم بالعملية (Process Control Block - PCB)؟",
        answers: [
            "محتويات ملف نصي",
            "قائمة البرامج المثبتة",
            "حالة العملية (Process State)",
            "سجلات النظام التاريخية"
        ],
        correctAnswer: 2,
        explanation: "كتلة التحكم بالعملية (PCB) تتضمن معلومات عن العملية مثل رقم تعريف العملية وحالة العملية."
    },
    {
        chapter: 2,
        question: "عندما تنتقل عملية من حالة \"انتظار\" (Waiting) إلى حالة \"جاهز\" (Ready) بعد اكتمال حدث كانت تنتظره، ما هو المفهوم الذي يصف هذه العملية في جدولة المعالج؟",
        answers: [
            "تبديل السياق (Context Switching)",
            "المقاطعات (Interrupts)",
            "المبادلة (Swapping)",
            "جدولة الوظائف (Job Scheduling)"
        ],
        correctAnswer: 0,
        explanation: "يوضح مخطط حالات العملية الانتقال من حالة الانتظار (Waiting) إلى حالة الجاهز (Ready) عند اكتمال الحدث الذي كانت تنتظره العملية."
    },
    {
        chapter: 2,
        question: "ما هو دور برامج تشغيل الأجهزة (Device Drivers) في نظام التشغيل؟",
        answers: [
            "توفير واجهة رسومية للمستخدم",
            "السماح للتطبيقات بالوصول المباشر إلى الأجهزة المادية",
            "العمل كوسيط بين نظام التشغيل ووحدة التحكم بالجهاز (Device Controller)",
            "إدارة الذاكرة المؤقتة للجهاز"
        ],
        correctAnswer: 2,
        explanation: "برامج تشغيل الأجهزة (Device drivers) تعمل كوسيط بين نظام التشغيل ووحدات التحكم بالأجهزة المادية."
    },
    {
        chapter: 2,
        question: "أي من التالي يُعد مثالاً على نظام ملفات (File System) يُستخدم بشكل أساسي في أنظمة تشغيل Windows؟",
        answers: [
            "ext4",
            "APFS",
            "FAT",
            "UDF"
        ],
        correctAnswer: 2,
        explanation: "FAT وNTFS هي من أشهر أنواع أنظمة الملفات المتوافقة مع أنظمة تشغيل Windows."
    },
    {
        chapter: 2,
        question: "ما هي إحدى الأنشطة الأساسية التي يقوم بها نظام التشغيل في إدارة الملفات؟",
        answers: [
            "تتبع مكان وجود الملفات",
            "كتابة برامج تشغيل جديدة للأجهزة",
            "تشفير محتوى جميع الملفات تلقائياً",
            "ضغط الملفات لتقليل مساحة التخزين"
        ],
        correctAnswer: 0,
        explanation: "إدارة الملفات تتضمن تتبع معلومات الملفات مثل مكان وجودها وحالتها وبيانات الاستخدام."
    },
    {
        chapter: 2,
        question: "في نموذج طبقات نظام التشغيل، أي طبقة تقع مباشرة فوق الأجهزة المادية (Hardware)؟",
        answers: [
            "التطبيقات (Applications)",
            "نظام الملفات (File System)",
            "نظام التشغيل (Operating System)",
            "واجهة المستخدم (User Interface)"
        ],
        correctAnswer: 2,
        explanation: "يوضح الرسم التخطيطي أن نظام التشغيل (Operating System) يقع مباشرة فوق الأجهزة المادية (Hardware)."
    },
    {
        chapter: 2,
        question: "ماذا تعني حالة العملية \"معلقة\" (Suspended) في دورة حياة العملية؟",
        answers: [
            "العملية تنتظر اكتمال حدث معين",
            "العملية جاهزة للتنفيذ ولكنها تنتظر تخصيص المعالج",
            "العملية تم نقلها من الذاكرة الرئيسية إلى الذاكرة الثانوية مؤقتاً",
            "العملية قيد التنفيذ حالياً على المعالج"
        ],
        correctAnswer: 2,
        explanation: "حالة العملية المعلقة تعني أن نظام التشغيل يقوم بتحرير مساحة الذاكرة الرئيسية التي تحتلها العملية بنقلها إلى الذاكرة الثانوية."
    },
    {
        chapter: 2,
        question: "ما هو المصطلح الذي يشير إلى قدرة نظام التشغيل على تشغيل أكثر من عملية في نفس الوقت على معالج واحد، عن طريق التبديل السريع بينها؟",
        answers: [
            "جدولة المعالج (Processor Scheduling)",
            "تعدد البرمجة (Multiprogramming)",
            "إدارة الأجهزة (Device Management)",
            "إدارة الملفات (File Management)"
        ],
        correctAnswer: 1,
        explanation: "تعدد البرمجة هي تقنية تمكن نظام التشغيل من تنفيذ أكثر من عملية في نفس الوقت على معالج واحد عن طريق التبديل بينها بسرعة."
    },
    {
        chapter: 2,
        question: "أي نوع من أنواع الذاكرة يُعتبر أساسياً لإدارة الذاكرة من قبل نظام التشغيل، ويتم الوصول إليه مباشرة بواسطة وحدة المعالجة المركزية؟",
        answers: [
            "الذاكرة الثانوية (Secondary Memory)",
            "الذاكرة الافتراضية (Virtual Memory)",
            "الذاكرة الرئيسية (Main Memory)",
            "ذاكرة التخزين المؤقت (Cache Memory)"
        ],
        correctAnswer: 2,
        explanation: "تشير إدارة الذاكرة إلى إدارة الذاكرة الرئيسية (Main Memory) التي يمكن الوصول إليها مباشرة بواسطة وحدة المعالجة المركزية."
    },
    {
        chapter: 2,
        question: "ماذا يمثل حقل \"Program Counter\" ضمن كتلة التحكم بالعملية (PCB)؟",
        answers: [
            "عدد مرات تنفيذ العملية",
            "حجم الذاكرة التي تحتاجها العملية",
            "عنوان التعليمات التالية التي سيتم تنفيذها",
            "أولوية العملية في جدول التنفيذ"
        ],
        correctAnswer: 2,
        explanation: "حقل Program Counter في كتلة التحكم بالعملية يتيح لنظام التشغيل تتبع عنوان التعليمات التالية التي يجب تنفيذها لهذه العملية."
    },
    {
        chapter: 2,
        question: "ما هي الوظيفة الأساسية لـ \"وحدة التحكم بالجهاز\" (Device Controller)؟",
        answers: [
            "كتابة أو قراءة البيانات من الجهاز",
            "إدارة واجهة المستخدم للجهاز",
            "التحكم في نقل البيانات بين الجهاز والذاكرة",
            "تشغيل برامج تشغيل الأجهزة"
        ],
        correctAnswer: 2,
        explanation: "وحدة التحكم بالجهاز هي مكونات مادية تعمل في تشغيل الأجهزة وإدارتها، وتساعد في التحكم في نقل البيانات بين الجهاز والذاكرة."
    },
    {
        chapter: 2,
        question: "أي من التالي ليس من وظائف نظام التشغيل الأساسية المذكورة في المصادر؟",
        answers: [
            "الأمان (Security)",
            "إدارة الموارد البشرية (Human Resource Management)",
            "المحاسبة (Accounting)",
            "توفير وسائل المساعدة في اكتشاف الأخطاء (Error Detecting Aids)"
        ],
        correctAnswer: 1,
        explanation: "إدارة الموارد البشرية ليست من الوظائف الأساسية لنظام التشغيل المذكورة في المصادر. الوظائف المذكورة هي إدارة الذاكرة، المعالج، الأجهزة، الملفات، الأمان، التحكم في الأداء، المحاسبة، اكتشاف الأخطاء، والتنسيق."
    },
    {
        chapter: 2,
        question: "في سياق التعامل مع الملفات، ما هي العملية التي يقوم بها نظام التشغيل عند تهيئة قرص صلب لاستخدامه؟",
        answers: [
            "النسخ (Copy)",
            "الفرز (Sort)",
            "إعادة التسمية (Rename)",
            "التهيئة (Formatting)"
        ],
        correctAnswer: 3,
        explanation: "عند تهيئة قرص صلب أو محرك أقراص فلاش، فإن نظام التشغيل يقوم بتهيئته ليُستخدم كوسيط قابل للتخزين."
    },
    // أسئلة صح وخطأ
    {
        chapter: 2,
        question: "نظام التشغيل هو واجهة بين المستخدم والأجهزة المادية للحاسوب.",
        answers: [
            "صح",
            "خطأ"
        ],
        correctAnswer: 0,
        explanation: "يُعرف نظام التشغيل بأنه الواجهة بين المستخدم ومكونات الحاسوب المادية."
    },
    {
        chapter: 2,
        question: "إدارة المعالج هي إحدى الوظائف الثانوية وغير الهامة لنظام التشغيل.",
        answers: [
            "صح",
            "خطأ"
        ],
        correctAnswer: 1,
        explanation: "إدارة المعالج هي إحدى الوظائف الهامة والأساسية لنظام التشغيل."
    },
    {
        chapter: 2,
        question: "العملية (Process) هي مجموعة من البرامج والتعليمات والبيانات المتعلقة بمهمة معينة.",
        answers: [
            "صح",
            "خطأ"
        ],
        correctAnswer: 0,
        explanation: "يُعرف البرنامج المكتوب أو الإجراءات بأنها برمجيات الحاسوب (Computer Software) وتتضمن مجموعة من البرامج والتعليمات والبيانات المتعلقة بالمهام. العملية هي تجسيد لتنفيذ البرنامج."
    },
    {
        chapter: 2,
        question: "في نظام التشغيل متعدد المهام، يتم تنفيذ جميع العمليات بالتسلسل دون تبديل بينها.",
        answers: [
            "صح",
            "خطأ"
        ],
        correctAnswer: 1,
        explanation: "في نظام التشغيل متعدد المهام، يقوم النظام بالتبديل بين العمليات لتنفيذ عدة أشياء في نفس الوقت."
    },
    {
        chapter: 2,
        question: "كتلة التحكم بالعملية (PCB) لا تحتوي على أي معلومات عن حالة العملية الحالية.",
        answers: [
            "صح",
            "خطأ"
        ],
        correctAnswer: 1,
        explanation: "كتلة التحكم بالعملية (PCB) تتضمن معلومات هامة عن العملية مثل حالة العملية الحالية (Process State)."
    },
    {
        chapter: 2,
        question: "تبديل السياق (Context Switching) هو عملية حفظ حالة العملية الحالية وتحميل حالة عملية أخرى ليتم تنفيذها بواسطة المعالج.",
        answers: [
            "صح",
            "خطأ"
        ],
        correctAnswer: 0,
        explanation: "تبديل السياق يتم عندما يقوم نظام التشغيل بحفظ سجلات ومكدسات العملية التي كانت تعمل وتحميل سجلات ومكدسات عملية أخرى ليتم تنفيذها."
    },
    {
        chapter: 2,
        question: "تقوم برامج تشغيل الأجهزة (Device Drivers) بالوصول المباشر إلى الأجهزة المادية دون المرور بنظام التشغيل.",
        answers: [
            "صح",
            "خطأ"
        ],
        correctAnswer: 1,
        explanation: "برامج تشغيل الأجهزة تعمل كوسيط بين نظام التشغيل ووحدة التحكم بالجهاز للتفاعل مع الأجهزة المادية."
    },
    {
        chapter: 2,
        question: "نظام الملفات (File System) يحدد الطريقة التي يتم بها تخزين وتنظيم الملفات على وسائط التخزين.",
        answers: [
            "صح",
            "خطأ"
        ],
        correctAnswer: 0,
        explanation: "نظام الملفات يطلق على الطريقة التي تُستخدم في تخزين واسترجاع الملفات على وسائط التخزين، ويستخدم بنية أو هيكلية محددة لذلك."
    },
    {
        chapter: 2,
        question: "ملفات البيانات (Data files) هي الملفات الوحيدة التي يديرها نظام التشغيل.",
        answers: [
            "صح",
            "خطأ"
        ],
        correctAnswer: 1,
        explanation: "نظام التشغيل يدير أنواعاً مختلفة من الملفات، تشمل ملفات البرامج (Executable files) وملفات البيانات (Data files)."
    },
    {
        chapter: 2,
        question: "أحد أمثلة ملفات البرامج (Executable files) هو الملف الذي يحمل الامتداد \".txt\".",
        answers: [
            "صح",
            "خطأ"
        ],
        correctAnswer: 1,
        explanation: "الملفات التي تحمل الامتداد \".txt\" هي أمثلة لملفات النصوص (text files) التي تندرج تحت ملفات البيانات. ملفات البرامج التنفيذية غالباً ما تحمل الامتداد \".exe\"."
    },
    {
        chapter: 2,
        question: "المجلدات (Folders) تُستخدم لتنظيم الملفات في هيكل هرمي لتسهيل الوصول إليها.",
        answers: [
            "صح",
            "خطأ"
        ],
        correctAnswer: 0,
        explanation: "يتم تنظيم الملفات في أدلة (directories) تُسمى مجلدات (folders) لتسهيل التصفح والاستخدام، وتكون في هيكل هرمي."
    },
    {
        chapter: 2,
        question: "وظيفة الأمان في نظام التشغيل تقتصر فقط على منع الفيروسات.",
        answers: [
            "صح",
            "خطأ"
        ],
        correctAnswer: 1,
        explanation: "وظيفة الأمان في نظام التشغيل تشمل التأمين والتحكم في الوصول باستخدام كلمات المرور وتقنيات مختلفة لمنع الوصول غير المصرح به للبرامج والبيانات، بالإضافة لوظائف أمان أخرى لم تُفصل هنا."
    },
    {
        chapter: 2,
        question: "نظام التشغيل يوفر واجهة برمجية موحدة (API) للتطبيقات للتفاعل مع الأجهزة المادية.",
        answers: [
            "صح",
            "خطأ"
        ],
        correctAnswer: 0,
        explanation: "يوفر نظام التشغيل واجهة للتواصل مع المكونات المادية، ويتم استخدام واجهة برمجية موحدة (Application API) للتطبيقات لطلب خدمات من نظام التشغيل، والتي بدورها تتعامل مع الأجهزة."
    },
    {
        chapter: 2,
        question: "حالة العملية \"جاهز\" (Ready) تعني أن العملية تنتظر إدخال بيانات من المستخدم.",
        answers: [
            "صح",
            "خطأ"
        ],
        correctAnswer: 1,
        explanation: "حالة العملية \"جاهز\" (Ready) تعني أن العملية جاهزة للتشغيل وتنتظر أن يخصص لها المعالج وقتاً للتنفيذ. انتظار بيانات من المستخدم يندرج عادة تحت حالة \"انتظار\" (Waiting)."
    },
    {
        chapter: 2,
        question: "إدارة الذاكرة تشمل تخصيص وإلغاء تخصيص مساحة الذاكرة للعمليات عند الحاجة.",
        answers: [
            "صح",
            "خطأ"
        ],
        correctAnswer: 0,
        explanation: "من الأنشطة الأساسية لإدارة الذاكرة تخصيص (Allocate) وإلغاء تخصيص (De-allocate) مساحة الذاكرة للعمليات."
    }
];

// إضافة خاصية الفصل لكل سؤال
chapter2Questions.forEach(q => {
    if (!q.chapter) {
        q.chapter = 2;
    }
});

// التأكد من وجود مصفوفة الأسئلة العامة
if (typeof window.questions === 'undefined') {
    window.questions = [];
}

// دمج أسئلة الفصل الثاني مع المصفوفة العامة
window.questions = window.questions.concat(chapter2Questions);

// تأكيد إضافة الأسئلة
console.log('تم إضافة أسئلة الفصل الثاني بنجاح');
console.log('عدد أسئلة الفصل الثاني:', chapter2Questions.length);
console.log('إجمالي عدد الأسئلة:', window.questions.length);

// التحقق من صحة إضافة الأسئلة
const chapter2QuestionsCount = window.questions.filter(q => Number(q.chapter) === 2).length;
console.log('عدد أسئلة الفصل الثاني في المصفوفة العامة:', chapter2QuestionsCount);
